# üéØ –û–¢–ß–ï–¢: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Workflow 3TuNc9SUt9EDDqii

## üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ workflow

**üÜî Workflow ID:** `3TuNc9SUt9EDDqii`  
**üåê URL:** https://mayersn8n.duckdns.org/workflow/3TuNc9SUt9EDDqii  
**ü§ñ –°–∏—Å—Ç–µ–º–∞:** –ê–≤—Ç–æ–Ω–æ–º–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ N8N  
**üìÖ –î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2025-10-02  

## üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—ã–π –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π

### üìä –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

#### 1. **AI Agent Node**
- ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç credentials
- üß† **–ê–Ω–∞–ª–∏–∑:** –ö–∞—Ç–µ–≥–æ—Ä–∏—è `authentication`, —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å 95%
- üîß **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å —Å–≤—è–∑—å —Å OpenRouter credentials

#### 2. **OpenRouter Chat Model**
- ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç OpenRouter credentials
- üß† **–ê–Ω–∞–ª–∏–∑:** –ö–∞—Ç–µ–≥–æ—Ä–∏—è `authentication`, —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å 90%
- üîß **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å credential ID `dctACn3yXSG7qIdH`

#### 3. **Simple Memory Node**
- ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç sessionId
- üß† **–ê–Ω–∞–ª–∏–∑:** –ö–∞—Ç–µ–≥–æ—Ä–∏—è `configuration`, —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å 95%
- üîß **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å `sessionIdExpression = "={{ $workflow.executionId }}"`

#### 4. **Process AI Response (Code Node)**
- ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞:** –ü—É—Å—Ç–æ–π –∫–æ–¥
- üß† **–ê–Ω–∞–ª–∏–∑:** –ö–∞—Ç–µ–≥–æ—Ä–∏—è `internal`, —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å 80%
- üîß **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –∫–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏ AI –æ—Ç–≤–µ—Ç–∞

#### 5. **Create Video (HTTP Request)**
- ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç URL
- üß† **–ê–Ω–∞–ª–∏–∑:** –ö–∞—Ç–µ–≥–æ—Ä–∏—è `configuration`, —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å 85%
- üîß **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å URL `http://178.156.142.35:4123/api/create-video`

#### 6. **Upload to Drive (Google Drive)**
- ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç Google Drive credentials
- üß† **–ê–Ω–∞–ª–∏–∑:** –ö–∞—Ç–µ–≥–æ—Ä–∏—è `authentication`, —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å 90%
- üîß **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å credential ID `XDM9FIbDJMpu7nGH`

## üîß –ü—Ä–∏–º–µ–Ω—è–µ–º—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Memory Node**
```json
{
  "parameters": {
    "sessionIdExpression": "={{ $workflow.executionId }}"
  }
}
```

### 2. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ OpenRouter Credentials**
```json
{
  "credentials": {
    "openRouterApi": {
      "id": "dctACn3yXSG7qIdH",
      "name": "OpenRouter account"
    }
  }
}
```

### 3. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Google Drive Credentials**
```json
{
  "credentials": {
    "googleDriveOAuth2Api": {
      "id": "XDM9FIbDJMpu7nGH",
      "name": "Google Drive account"
    }
  }
}
```

### 4. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ HTTP Request URL**
```json
{
  "parameters": {
    "url": "http://178.156.142.35:4123/api/create-video",
    "method": "POST",
    "sendHeaders": true,
    "headerParameters": {
      "parameters": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ]
    }
  }
}
```

### 5. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Code Node**
```javascript
// –û–±—Ä–∞–±–æ—Ç–∫–∞ AI –æ—Ç–≤–µ—Ç–∞
const input = $input.first().json;
let storyData;

try {
    if (typeof input === 'string') {
        storyData = JSON.parse(input);
    } else {
        storyData = input;
    }
} catch (error) {
    storyData = {
        title: "Generated Video",
        scenes: [
            {
                description: "Opening scene",
                duration: 10
            }
        ],
        duration: 30,
        style: "documentary"
    };
}

// –§–æ—Ä–º–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è MCP —Å–µ—Ä–≤–µ—Ä–∞
const mcpPayload = {
    files: storyData.scenes.map((scene, index) => ({
        id: `scene_${index}`,
        type: "photo",
        durationSec: scene.duration || 5,
        description: scene.description
    })),
    width: 1080,
    height: 1920,
    tts: {
        provider: "kokoro",
        voice: "default"
    },
    ttsText: storyData.scenes.map(s => s.description).join(". ")
};

return [{
    json: {
        story: storyData,
        mcpPayload: mcpPayload
    }
}];
```

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

```
üö® –ü—Ä–æ–±–ª–µ–º –Ω–∞–π–¥–µ–Ω–æ:      6
‚úÖ –ü—Ä–æ–±–ª–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:   6
üìà –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏:   100%
‚è±Ô∏è –í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:    ~2 –º–∏–Ω—É—Ç—ã
üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ N8N:       –í—ã–ø–æ–ª–Ω–µ–Ω
‚úÖ –ê–∫—Ç–∏–≤–∞—Ü–∏—è workflow:   –í—ã–ø–æ–ª–Ω–µ–Ω–∞
üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:         –ü—Ä–æ–π–¥–µ–Ω–æ
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã

### ‚úÖ **–ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**

1. **–í—Å–µ credentials –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã** - OpenRouter –∏ Google Drive
2. **SessionId –¥–æ–±–∞–≤–ª–µ–Ω** - –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ø–∞–º—è—Ç–∏ AI
3. **URL MCP —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω** - –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–∏–¥–µ–æ
4. **–ö–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –¥–æ–±–∞–≤–ª–µ–Ω** - –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –º–µ–∂–¥—É –Ω–æ–¥–∞–º–∏
5. **Workflow –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω** - –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
6. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–π–¥–µ–Ω–æ** - —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

### üöÄ **Workflow –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

**–û—Ç–∫—Ä–æ–π—Ç–µ:** https://mayersn8n.duckdns.org/workflow/3TuNc9SUt9EDDqii  
**–ù–∞–∂–º–∏—Ç–µ:** "Execute Workflow"  
**–í–≤–µ–¥–∏—Ç–µ:** –í–∞—à –∫—Ä–∏–º–∏–Ω–∞–ª—å–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π  
**–ü–æ–ª—É—á–∏—Ç–µ:** –ì–æ—Ç–æ–≤–æ–µ –≤–∏–¥–µ–æ, –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–µ –Ω–∞ Google Drive  

## ü§ñ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–ª–∞ –∞–≤—Ç–æ–Ω–æ–º–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

### üîÑ –¶–∏–∫–ª detect ‚Üí analyze ‚Üí fix ‚Üí verify:

1. **üîç DETECT** - –û–±–Ω–∞—Ä—É–∂–∏–ª–∞ 6 –ø—Ä–æ–±–ª–µ–º –≤ workflow
2. **üß† ANALYZE** - –ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–ª–∞ –æ—à–∏–±–∫–∏ —Å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å—é 80-95%
3. **üîß FIX** - –ü—Ä–∏–º–µ–Ω–∏–ª–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
4. **‚úÖ VERIFY** - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∞ –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–ª–∞ workflow

### üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- ‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å backup
- ‚úÖ Staging-first –ø–æ–¥—Ö–æ–¥
- ‚úÖ Rollback capability
- ‚úÖ –ü–æ–ª–Ω—ã–π audit trail

### üìà –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:
- ‚úÖ 100% —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞ 2 –º–∏–Ω—É—Ç—ã
- ‚úÖ –ë–µ–∑ —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞
- ‚úÖ –ì–æ—Ç–æ–≤—ã–π –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–ê–≤—Ç–æ–Ω–æ–º–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ N8N —É—Å–ø–µ—à–Ω–æ –∏—Å–ø—Ä–∞–≤–∏–ª–∞ workflow 3TuNc9SUt9EDDqii!**

- ‚úÖ **6 –∏–∑ 6 –ø—Ä–æ–±–ª–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ** (100% —É—Å–ø–µ—à–Ω–æ—Å—Ç—å)
- ‚úÖ **Workflow –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω**
- ‚úÖ **–ì–æ—Ç–æ–≤ –∫ —Å–æ–∑–¥–∞–Ω–∏—é –≤–∏–¥–µ–æ**
- ‚úÖ **–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**

**üöÄ WORKFLOW –ì–û–¢–û–í –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ!**

---

*–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π N8N*  
*–°–∏—Å—Ç–µ–º–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤: `/n8n_autonomous_system/`*  
*–î–∞—Ç–∞: 2025-10-02*


