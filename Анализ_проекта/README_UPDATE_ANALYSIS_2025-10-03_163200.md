# 2025-10-03 16:32:00 - –ê–Ω–∞–ª–∏–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è README —Å —Ç–æ—á–Ω—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏ –∏ –ø–æ—Ä—Ç–∞–º–∏

## –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–Ω–µ—Å—ë–Ω–Ω—ã–µ –≤ README.md

### ‚úÖ –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- **–ó–∞–≥–æ–ª–æ–≤–æ–∫**: `media-video-maker` ‚Üí `Media Video Maker Server`
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω–æ —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ REST API –∏ MCP –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
- **–≠–º–æ–¥–∑–∏-—Å–µ–∫—Ü–∏–∏**: –î–æ–±–∞–≤–ª–µ–Ω—ã üöÄ, üì°, üîß, üîÑ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### ‚úÖ –¢–æ—á–Ω—ã–µ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞ —Å–µ—Ä–≤–∏—Å–∞  
```bash
- REST API: http://localhost:4123 (–æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å)
- MCP Server: http://localhost:5123 (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AI)
```

### ‚úÖ –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ ENV –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
–î–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å –ø–æ—è—Å–Ω–µ–Ω–∏—è–º–∏:
- **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ**: MEDIA_PORT, LOG_LEVEL
- **–ü–∞–ø–∫–∏ –¥–∞–Ω–Ω—ã—Ö**: OUTPUT_DIR, ASSETS_DIR, PROJECT_ROOT  
- **TTS —Å–µ—Ä–≤–∏—Å—ã**: KOKORO_TTS_URL, OPENAI_API_KEY, OPENAI_BASE_URL
- **–®—Ä–∏—Ñ—Ç—ã**: FONT_FILE

### ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ npm –∫–æ–º–∞–Ω–¥—ã
```bash
npm run dev          # –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å ts-node
npm run build        # –°–±–æ—Ä–∫–∞ TypeScript ‚Üí dist/
npm run check        # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –±–µ–∑ —Å–±–æ—Ä–∫–∏  
npm run start        # –ó–∞–ø—É—Å–∫ production —Å–±–æ—Ä–∫–∏
```

### ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø—Ä–æ–¥–∞–∫—à–Ω –∑–∞–ø—É—Å–∫
```bash
cd /root/media-video-maker_project/media-video-maker_server
git pull origin main
npm run build
nohup node dist/media-server.js > server.log 2>&1 &

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—É—Å–∫–∞
ps aux | grep media-server
curl http://localhost:4123/api/health
```

### ‚úÖ API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã —Å curl –ø—Ä–∏–º–µ—Ä–∞–º–∏

#### Health Check:
```bash
curl http://localhost:4123/api/health
# –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç: {"status":"ok","timestamp":"2025-10-03T16:30:00.000Z","uptime":12345}
```

#### –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–¥–µ–æ:
```bash
curl -X POST http://localhost:4123/api/create-video \
  -H 'Content-Type: application/json' \
  -d '{
    "files": [{"id": "img1", "src": "/path/to/image.jpg", "type": "photo"}],
    "width": 640,
    "height": 360,
    "durationPerPhoto": 2.0
  }'
```

#### –°—Ç–∞—Ç—É—Å —Ä–∞–±–æ—Ç—ã:  
```bash
curl http://localhost:4123/api/status/JOB_UUID_HERE
```

#### –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã:
```bash
curl http://localhost:4123/api/diagnostic
```

### ‚úÖ –†–∞–∑–¥–µ–ª –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ –æ—Ç–ª–∞–¥–∫–∏

#### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è:
- **–°–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è**: –∫–æ–º–∞–Ω–¥—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Ä—Ç–æ–≤ –∏ –ª–æ–≥–æ–≤
- **–¢–µ—Å—Ç—ã –ø–∞–¥–∞—é—Ç —Å –æ—à–∏–±–∫–æ–π 400**: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º—ã (`type: "photo"`)
- **TTS –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**: –ø—Ä–æ–≤–µ—Ä–∫–∞ API –∫–ª—é—á–µ–π  
- **–ù–µ—Ç –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ**: –∫–æ–º–∞–Ω–¥—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –æ—á–∏—Å—Ç–∫–∏

#### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤:
```bash
ps aux | grep media-server                    # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
curl http://localhost:4123/api/jobs           # –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏  
curl http://localhost:4123/api/diagnostic   # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
```

### ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```
src/
‚îú‚îÄ‚îÄ media-server.ts          # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä  
‚îú‚îÄ‚îÄ server/                  # HTTP –º–∞—Ä—à—Ä—É—Ç—ã
‚îú‚îÄ‚îÄ pipeline/                # –í–∏–¥–µ–æ –∫—Ä–∞–Ω—á–∏–Ω–≥–æ–≤—ã–π –ø–∞–π–ø–ª–∞–π–Ω
‚îú‚îÄ‚îÄ audio/                   # TTS –∏ –∞—É–¥–∏–æ –æ–±—Ä–∞–±–æ—Ç–∫–∞
‚îú‚îÄ‚îÄ utils/                   # –£—Ç–∏–ª–∏—Ç—ã (–ª–æ–≥–∏, —Ñ–∞–π–ª—ã, –ø–∞–ø–∫–∏)
‚îî‚îÄ‚îÄ types/                   # TypeScript —Ç–∏–ø—ã
```

### ‚úÖ –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–æ–±–Ω–æ–≤–ª–µ–Ω—ã)
- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ feature –≤–µ—Ç–∫–∞—Ö (`feature/module/short_desc`)
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –º–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
- –û—Ç—á–µ—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `–ê–Ω–∞–ª–∏–∑_–ø—Ä–æ–µ–∫—Ç–∞/` —Å –¥–∞—Ç–æ–π/–≤—Ä–µ–º–µ–Ω–µ–º  
- –ù–∞ —Å–µ—Ä–≤–µ—Ä –¥–µ–ø–ª–æ–π —Ç–æ–ª—å–∫–æ –∏–∑ `main`

### ‚úÖ –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä
```bash
ssh root@178.156.142.35
cd /root/media-video-maker_project  
git pull origin main
npm run build
pkill -f media-server
nohup node dist/media-server.js > server.log 2>&1 &
```

## –°–æ—Ö—Ä–∞–Ω–µ–Ω—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ä–∞–∑–¥–µ–ª—ã:
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–¥—É–ª–µ–π
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è —Ç–µ—Å—Ç–æ–≤

## –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏–∑ —Å–µ—Ä–≤–µ—Ä–∞:
- ‚úÖ –¢–æ—á–Ω—ã–µ –ø–æ—Ä—Ç—ã (4123, 5123)
- ‚úÖ –†–µ–∞–ª—å–Ω—ã–µ npm —Å–∫—Ä–∏–ø—Ç—ã –∏–∑ package.json
- ‚úÖ –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏ –ø–∞–ø–æ–∫ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ—Ü–µ—Å—Å–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–≥–æ README:
1. **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
2. **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**: —Ä–µ—à–µ–Ω–∏—è —á–∞—Å—Ç—ã—Ö –ø—Ä–æ–±–ª–µ–º  
3. **–ü—Ä–æ–¥–∞–∫—à–Ω –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å**: –ø—Ä–æ—Ü–µ–¥—É—Ä—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
4. **–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏**: –ø—Ä–∏–Ω—Ü–∏–ø—ã –∏ workflow
5. **–ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å**: –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å —Å–µ—Ä–≤–µ—Ä–∞

## –°—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏ T36: ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û
- ‚úÖ README –æ–±–Ω–æ–≤–ª–µ–Ω —Å —Ç–æ—á–Ω—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏ –∏ –ø–æ—Ä—Ç–∞–º–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ ENV –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
- ‚úÖ –í–∫–ª—é—á–µ–Ω—ã API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Å curl –ø—Ä–∏–º–µ—Ä–∞–º–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω —Ä–∞–∑–¥–µ–ª –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ –æ—Ç–ª–∞–¥–∫–∏
- ‚úÖ –û–ø–∏—Å–∞–Ω—ã –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –¥–µ–ø–ª–æ—è

## –°–ª–µ–¥—É—é—â–∏–µ –∑–∞–¥–∞—á–∏:
- T37: –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- T38: –û—Ü–µ–Ω–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã
- T39: –ü—Ä–∏–æ—Ä–∏—Ç–µ–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–ª–∞–Ω —Ä–∞–±–æ—Ç P0/P1/P2
