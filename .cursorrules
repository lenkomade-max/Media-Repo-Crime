# Язык и стиль
- Всегда отвечай на русском.
- Работай короткими итерациями: сформулировал план → сделал минимальный патч → показал diff → пояснил тест.

# Политика правок
- Приоритизируй правки в src/, не редактируй dist/ (сборка).
- Не ломай экспорт/импорт: ESM, явные расширения .js для runtime NodeNext.
- Не меняй публичные API без явного запроса.

# Как работать над задачей
- Каждый фикс: 1) опиши, что ломаётся и почему, 2) предложи минимальный патч, 3) приложи diff, 4) укажи команды для проверки.
- Если видишь дубликаты модулей (например, src/server/mcp.ts vs dist/server/mcp.js), синхронизируй исходник и обнови сборку.
- По SSE: используй корректные заголовки и heartbeats, закрывай ресурсы.

# Тестирование
- Предлагай конкретные curl-команды и npm-скрипты (npm run build/start/dev).
- При ошибках TypeScript — укажи точные коды (TS2307 и т.п.) и как править tsconfig/package.json.

# Границы
- Не внедряй новые зависимости без причины.
- Если нужна структура/файл — сначала спроси или предложи шаблон.
