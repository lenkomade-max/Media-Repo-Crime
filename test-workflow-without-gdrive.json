{
  "name": "üß™ –¢–µ—Å—Ç AI Agent (–±–µ–∑ Google Drive)",
  "active": true,
  "nodes": [
    {
      "parameters": {},
      "id": "manual-trigger",
      "name": "üöÄ –°—Ç–∞—Ä—Ç",
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [240, 300]
    },
    {
      "parameters": {
        "jsCode": "const topic = $input.first().json.topic || '–∫—Ä–∏–º–∏–Ω–∞–ª—å–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è';\n\nreturn {\n  json: {\n    topic: topic,\n    chatInput: `–¢—ã –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π AI –°—Ü–µ–Ω–∞—Ä–∏—Å—Ç –¥–ª—è –∫—Ä–∏–º–∏–Ω–∞–ª—å–Ω—ã—Ö shorts –≤–∏–¥–µ–æ.\n\n–¢–µ–º–∞: ${topic}\n\n–°–æ–∑–¥–∞–π –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—â–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π:\n- –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 30-60 —Å–µ–∫—É–Ω–¥\n- 5-8 —Å—Ü–µ–Ω –ø–æ 3-8 —Å–µ–∫—É–Ω–¥ –∫–∞–∂–¥–∞—è\n- –ú–æ—â–Ω—ã–π –∫—Ä—é–∫ –≤ –ø–µ—Ä–≤—ã–µ 3 —Å–µ–∫—É–Ω–¥—ã\n- –ß–µ—Ç–∫–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è –≤–∏–∑—É–∞–ª–∞\n- –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ñ–æ—Ç–æ\n\n–í–µ—Ä–Ω–∏ –¢–û–õ–¨–ö–û JSON:\n{\n  \"title\": \"–ù–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ\",\n  \"duration\": 45,\n  \"scenes\": [\n    {\n      \"id\": 1,\n      \"duration\": 6,\n      \"voiceover\": \"–¢–µ–∫—Å—Ç –æ–∑–≤—É—á–∫–∏\",\n      \"visual_description\": \"–û–ø–∏—Å–∞–Ω–∏–µ –≤–∏–∑—É–∞–ª–∞\",\n      \"search_keywords\": [\"crime scene\", \"police\"]\n    }\n  ],\n  \"total_voiceover\": \"–ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –æ–∑–≤—É—á–∫–∏\"\n}`\n  }\n};"
      },
      "id": "prepare-data",
      "name": "üìù –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [460, 300]
    },
    {
      "parameters": {
        "promptType": "auto",
        "text": "={{ $json.chatInput }}",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [680, 300],
      "id": "ai-screenwriter-agent",
      "name": "üé≠ AI –°—Ü–µ–Ω–∞—Ä–∏—Å—Ç Agent"
    },
    {
      "parameters": {
        "model": "anthropic/claude-3.5-sonnet",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [680, 480],
      "id": "openrouter-chat-model",
      "name": "OpenRouter Chat Model",
      "credentials": {
        "openRouterApi": {
          "id": "dctACn3yXSG7qIdH",
          "name": "OpenRouter account"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "test-session"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [900, 480],
      "id": "simple-memory",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "jsCode": "// –ü–∞—Ä—Å–∏–º –æ—Ç–≤–µ—Ç –æ—Ç AI Agent\nconst response = $input.first().json.output;\nlet scenario;\n\ntry {\n  const jsonMatch = response.match(/\\{[\\s\\S]*\\}/);\n  if (jsonMatch) {\n    scenario = JSON.parse(jsonMatch[0]);\n  } else {\n    throw new Error('JSON –Ω–µ –Ω–∞–π–¥–µ–Ω');\n  }\n} catch (error) {\n  console.error('–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞:', error);\n  scenario = {\n    title: \"–¢–µ—Å—Ç–æ–≤–∞—è –∏—Å—Ç–æ—Ä–∏—è\",\n    duration: 30,\n    scenes: [{\n      id: 1,\n      duration: 10,\n      voiceover: \"–¢–µ—Å—Ç –ø—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ\",\n      visual_description: \"AI Agent —Ä–∞–±–æ—Ç–∞–µ—Ç\",\n      search_keywords: [\"success\", \"test\"]\n    }],\n    total_voiceover: \"–¢–µ—Å—Ç –ø—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ\"\n  };\n}\n\nreturn {\n  json: {\n    scenario: scenario,\n    topic: $('üìù –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö').first().json.topic,\n    test_result: 'AI Agent —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ!',\n    timestamp: new Date().toISOString()\n  }\n};"
      },
      "id": "parse-scenario",
      "name": "‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1120, 300]
    }
  ],
  "connections": {
    "üöÄ –°—Ç–∞—Ä—Ç": {
      "main": [
        [
          {
            "node": "üìù –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "üìù –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö": {
      "main": [
        [
          {
            "node": "üé≠ AI –°—Ü–µ–Ω–∞—Ä–∏—Å—Ç Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "üé≠ AI –°—Ü–µ–Ω–∞—Ä–∏—Å—Ç Agent": {
      "main": [
        [
          {
            "node": "‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenRouter Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "üé≠ AI –°—Ü–µ–Ω–∞—Ä–∏—Å—Ç Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "üé≠ AI –°—Ü–µ–Ω–∞—Ä–∏—Å—Ç Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "triggerCount": 1,
  "versionId": "1"
}
