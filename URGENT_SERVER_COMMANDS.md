# üö® –°–†–û–ß–ù–û: –ö–û–ú–ê–ù–î–´ –î–õ–Ø –¢–ï–°–¢–ò–†–û–í–©–ò–ö–ê –ù–ê –°–ï–†–í–ï–†–ï

## ‚ö° –ü–†–û–ë–õ–ï–ú–´ –ù–ê–ô–î–ï–ù–´ –ò –ò–°–ü–†–ê–í–õ–ï–ù–´ –í GITHUB

**–ö–æ–º–º–∏—Ç:** 341b9ae  
**–ö—Ä–∏—Ç–∏—á–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** `response.buffer() ‚Üí response.arrayBuffer()`

## üõ† –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ö–û–ú–ê–ù–î–´ –ù–ê –°–ï–†–í–ï–†–ï

### üì• **–®–ê–ì 1: –û–ë–ù–û–í–ò–¢–¨ –ö–û–î (–ö–†–ò–¢–ò–ß–ù–û!)**
```bash
cd /root/media-video-maker_project
git pull origin main
```
**–ü–†–û–í–ï–†–ò–¢–¨:** –ö–æ–º–º–∏—Ç 341b9ae –∑–∞–≥—Ä—É–∂–µ–Ω

### üîß **–®–ê–ì 2: –ü–ï–†–ï–£–°–¢–ê–ù–û–í–ò–¢–¨ –ó–ê–í–ò–°–ò–ú–û–°–¢–ò**
```bash
cd media-video-maker_server
rm -rf node_modules package-lock.json
npm install
```
**–ü–†–û–í–ï–†–ò–¢–¨:** –ù–ï–¢ –æ—à–∏–±–æ–∫ node-fetch

### üèó **–®–ê–ì 3: –ü–ï–†–ï–°–û–ë–†–ê–¢–¨ (–î–û–õ–ñ–ù–û –†–ê–ë–û–¢–ê–¢–¨ –¢–ï–ü–ï–†–¨)**
```bash
npm run build
```
**–ü–†–û–í–ï–†–ò–¢–¨:** 
- –ù–ï–¢ –æ—à–∏–±–æ–∫ TS2307
- –§–∞–π–ª `dist/media-server.js` —Å–æ–∑–¥–∞–Ω
- –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –±–æ–ª—å—à–µ 10KB

### üîÑ **–®–ê–ì 4: –ü–ï–†–ï–ó–ê–ü–£–°–¢–ò–¢–¨ –°–ï–†–í–ï–†**
```bash
# –£–±–∏—Ç—å —Å—Ç–∞—Ä—ã–π –ø—Ä–æ—Ü–µ—Å—Å
pkill -f node
pkill -f media

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–æ–≤—ã–π (—Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ñ–∞–π–ª–æ–º)
npm start
```

### ‚úÖ **–®–ê–ì 5: –ü–†–û–í–ï–†–ò–¢–¨ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø**

**5.1 –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä:**
```bash
curl -s http://localhost:4124/api/ping | jq
# –û–ñ–ò–î–ê–¢–¨: "version": "2.1-main" (–ù–ï "2.0-test")
```

**5.2 Health endpoint:**
```bash
curl -s http://localhost:4124/api/health | jq .status
# –û–ñ–ò–î–ê–¢–¨: "ok" –∏–ª–∏ "degraded" (–ù–ï 404!)
```

**5.3 Capabilities:**
```bash
curl -s http://localhost:4124/api/capabilities | jq .readiness
# –û–ñ–ò–î–ê–¢–¨: {"ready": true/false}
```

**5.4 TTS —Ç–µ—Å—Ç:**
```bash
python3 simple_kokoro_server.py &

curl -X POST http://localhost:4124/api/create-video \
  -H "Content-Type: application/json" \
  -d '{"files":[{"id":"test","src":"/dev/null","type":"photo","durationSec":1}],"width":640,"height":360,"tts":{"provider":"kokoro"},"ttsText":"–¢–µ—Å—Ç"}'
```

## üéØ –ö–†–ò–¢–ï–†–ò–ò –£–°–ü–ï–•–ê

### ‚úÖ **–í–°–ï –î–û–õ–ñ–ù–û –†–ê–ë–û–¢–ê–¢–¨:**
- [ ] –°–±–æ—Ä–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ë–ï–ó –æ—à–∏–±–æ–∫ TS2307
- [ ] –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è `dist/media-server.js` (version 2.1-main)
- [ ] `/api/health` –æ—Ç–≤–µ—á–∞–µ—Ç 200/503 (–ù–ï 404!)
- [ ] MediaCreator stats —Ä–∞–±–æ—Ç–∞—é—Ç (–ù–ï queue error)
- [ ] –í–∏–¥–µ–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å –∞—É–¥–∏–æ–ø–æ—Ç–æ–∫–æ–º
- [ ] –¢–∞–π–º–∞—É—Ç—ã TTS –ù–ï –∫—Ä–∞—à–∞—Ç —Å–µ—Ä–≤–µ—Ä

### ‚ùå **–ï–°–õ–ò –í–°–ï –†–ê–í–ù–û –ù–ï –†–ê–ë–û–¢–ê–ï–¢:**
**–ü–†–û–í–ï–†–¨ –ü–†–û–¶–ï–°–°–´:**
```bash
ps aux | grep node
ps aux | grep media
netstat -tulpn | grep 4124
```

**–ü–†–û–í–ï–†–¨ –õ–û–ì–ò:**
```bash
tail -f /app/logs/*.log
# –ò–õ–ò
npm start 2>&1 | tee /tmp/server.log
```

---

## üìù –§–û–†–ú–ê–¢ –û–¢–ß–ï–¢–ê

```
# –°–†–û–ß–ù–´–ô –¢–ï–°–¢-–û–¢–ß–ï–¢: –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

## ‚úÖ –ü–†–û–ë–õ–ï–ú–´ –ò–°–ü–†–ê–í–õ–ï–ù–´
- [ ] –°–±–æ—Ä–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç (TS2307 –∏—Å–ø—Ä–∞–≤–ª–µ–Ω) 
- [ ] –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω (version 2.1-main)
- [ ] /api/health –¥–æ—Å—Ç—É–ø–µ–Ω (–ù–ï 404)
- [ ] MediaCreator.getPendingCount() —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] TTS —Å–æ–∑–¥–∞–µ—Ç –≤–∏–¥–µ–æ —Å –∞—É–¥–∏–æ–ø–æ—Ç–æ–∫–æ–º
- [ ] –°–∏—Å—Ç–µ–º–∞ —É—Å—Ç–æ–π—á–∏–≤–∞ –∫ TTS –æ—à–∏–±–∫–∞–º

## ‚ùå –û–°–¢–ê–Æ–©–ò–ï–°–Ø –ü–†–û–ë–õ–ï–ú–´
[–ï—Å–ª–∏ –µ—Å—Ç—å]

## üöÄ –ì–û–¢–û–í–ù–û–°–¢–¨ –ö PRODUCTION
–î–ê/–ù–ï–¢ - —Å–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–±–∏–ª—å–Ω–∞
```

---

## üö® **–°–†–û–ß–ù–û–°–¢–¨: 15 –ú–ò–ù–£–¢**

**–í–°–ï –ö–û–ú–ê–ù–î–´ –£–ñ–ï –ì–û–¢–û–í–´** - –ø—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä—É–π –∏ –≤—ã–ø–æ–ª–Ω–∏!  
**–ù–ï –ü–ò–®–ò –ö–û–î** - —Ç–æ–ª—å–∫–æ —Ç–µ—Å—Ç–∏—Ä—É–π!

**–£–î–ê–ß–ò!** üöÄ
